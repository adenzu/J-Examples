sort =. /:~
setBits =. +/"1@#:

v =. (([: ; sort&.>@(<;.1~ ([: ~: setBits))) -: sort)

v 8 4 2 30 15
v 1 2 3 4 5
v 3 16 8 4 2